<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.280">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Jorge Roa">
<meta name="author" content="Fernando Alarid-Escudero">
<meta name="dcterms.date" content="2022-07-28">
<title>Enable Multithread with data.table in Mac/Intel chips</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<script src="../../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../../">
<link href="../../../../images/hcc.png" rel="icon" type="image/png">
<script src="../../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<script src="../../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../../../../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../../../../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<link href="../../../../site_libs/quarto-contrib/animate-4.1.1/animate.min.css" rel="stylesheet"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-HJEMN0LJY7"></script><script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-HJEMN0LJY7', { 'anonymize_ip': true});
</script><style>html{ scroll-behavior: smooth; }</style>
<style>:root{--animate-duration:3s;--animate-delay:2s;--animate-repeat:1}</style>
<style>:root{--animate-duration:3s;--animate-delay:2s;--animate-repeat:1}</style>
<style>:root{--animate-duration:3s;--animate-delay:2s;--animate-repeat:1}</style>
<style>:root{--animate-duration:3s;--animate-delay:2s;--animate-repeat:1}</style>
<style>:root{--animate-duration:3s;--animate-delay:2s;--animate-repeat:1}</style>
<style>:root{--animate-duration:3s;--animate-delay:2s;--animate-repeat:1}</style>
<style>:root{--animate-duration:3s;--animate-delay:2s;--animate-repeat:1}</style>
<link rel="stylesheet" href="../../../../styles.css">
</head>
<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg navbar-dark "><div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../../../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../../../images/hcc_bk_white.png" alt="" class="navbar-logo"></a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item">
    <a class="nav-link" href="../../../../index.html"><i class="bi bi-house-fill" role="img">
</i> 
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../members.html">
 <span class="menu-text"><i class="fa-solid fa-people-group" aria-label="people-group"></i> Members</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-learn" role="button" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-mortarboard-fill" role="img">
</i> 
 <span class="menu-text">Learn</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-learn">
<li>
    <a class="dropdown-item" href="../../../../learn/rstudio.html">
 <span class="dropdown-text"><i class="fa-brands fa-r-project" aria-label="r-project"></i> language</span></a>
  </li>  
    </ul>
</li>
  <li class="nav-item">
    <a class="nav-link" href="../../../../events/index.html"><i class="bi bi-calendar3" role="img">
</i> 
 <span class="menu-text">Events</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../register.html"><i class="bi bi-fingerprint" role="img">
</i> 
 <span class="menu-text">Register</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../about.html"><i class="bi bi-info-square-fill" role="img">
</i> 
 <span class="menu-text">About us</span></a>
  </li>  
</ul>
<div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav></header><!-- content --><header id="title-block-header" class="quarto-title-block default page-columns page-full"><div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title"><span class="animate__animated animate__fadeInDown animate__delay-.6s" style="display: inline-block;">Enable Multithread with data.table in Mac/Intel chips</span></h1>
            <p class="subtitle lead"><span class="animate__animated animate__fadeInDown animate__delay-.6s" style="display: inline-block;">Multithreading offers faster and more efficient data processing, allowing for quicker analysis of complex datasets.</span></p>
                                <div class="quarto-categories">
                <div class="quarto-category">GitHub</div>
                <div class="quarto-category">GitHub Actions</div>
                <div class="quarto-category">Automations</div>
                <div class="quarto-category">RStudio</div>
                <div class="quarto-category">Posit</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Authors</div>
      <div class="quarto-title-meta-contents">
               <p>Jorge Roa </p>
               <p>Fernando Alarid-Escudero </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">July 28, 2022</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">On this page</h2>
   
  <ul>
<li><a href="#prerequisites" id="toc-prerequisites" class="nav-link active" data-scroll-target="#prerequisites">Prerequisites</a></li>
  <li><a href="#first-step" id="toc-first-step" class="nav-link" data-scroll-target="#first-step">First Step</a></li>
  <li><a href="#second-step-install-homebrew" id="toc-second-step-install-homebrew" class="nav-link" data-scroll-target="#second-step-install-homebrew">Second Step (Install homebrew)</a></li>
  <li><a href="#third-step-check-package-and-change-paths" id="toc-third-step-check-package-and-change-paths" class="nav-link" data-scroll-target="#third-step-check-package-and-change-paths">Third Step (Check package and change paths)</a></li>
  <li>
<a href="#fourth-step-installing-required-packages-libopenmp-libopenmpt-llvm-cask-ggc" id="toc-fourth-step-installing-required-packages-libopenmp-libopenmpt-llvm-cask-ggc" class="nav-link" data-scroll-target="#fourth-step-installing-required-packages-libopenmp-libopenmpt-llvm-cask-ggc">Fourth Step: Installing required packages (libopenmp, libopenmpt, llvm, cask, ggc)</a>
  <ul class="collapse">
<li><a href="#install-llvm" id="toc-install-llvm" class="nav-link" data-scroll-target="#install-llvm">Install llvm</a></li>
  <li><a href="#install-libopenmp" id="toc-install-libopenmp" class="nav-link" data-scroll-target="#install-libopenmp">Install libopenmp</a></li>
  <li><a href="#install-libopenmpt" id="toc-install-libopenmpt" class="nav-link" data-scroll-target="#install-libopenmpt">Install libopenmpt</a></li>
  <li><a href="#install-gcc" id="toc-install-gcc" class="nav-link" data-scroll-target="#install-gcc">Install gcc</a></li>
  <li><a href="#install-cask-openmtp" id="toc-install-cask-openmtp" class="nav-link" data-scroll-target="#install-cask-openmtp">Install –cask openmtp</a></li>
  </ul>
</li>
  <li><a href="#fifth-step-create-.r-folder-and-makevars-file." id="toc-fifth-step-create-.r-folder-and-makevars-file." class="nav-link" data-scroll-target="#fifth-step-create-.r-folder-and-makevars-file.">Fifth Step: create .R folder and Makevars file.</a></li>
  <li>
<a href="#sixth-step-create-our-paths-in-our-makevars-file." id="toc-sixth-step-create-our-paths-in-our-makevars-file." class="nav-link" data-scroll-target="#sixth-step-create-our-paths-in-our-makevars-file.">Sixth Step: Create our paths in our Makevars file.</a>
  <ul class="collapse">
<li><a href="#apple-silicon" id="toc-apple-silicon" class="nav-link" data-scroll-target="#apple-silicon">Apple Silicon</a></li>
  <li><a href="#intel" id="toc-intel" class="nav-link" data-scroll-target="#intel">Intel</a></li>
  </ul>
</li>
  <li><a href="#seventh-step-reinstall-data.table-and-set-your-cores." id="toc-seventh-step-reinstall-data.table-and-set-your-cores." class="nav-link" data-scroll-target="#seventh-step-reinstall-data.table-and-set-your-cores.">Seventh Step: Reinstall data.table and set your cores.</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content"><div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/appleintel.png" class="img-fluid figure-img"></p>
</figure>
</div>
<p>This document shows you how we can enable the use of multiple cores on Macs with Intel/Apple silicon chips (M1 and M2).</p>
<hr>
<p>If we load data.table library in <i class="fa-brands fa-r-project" aria-label="r-project"></i> studio, this message will appear in your console:</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-figure-spacer quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p>&nbsp;</p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p><img src="images/dt.png" class="img-fluid"></p>
</div>
</div>
</div>
<p>As you can see, OpenMP support is needed to use multiple cores in Macs. Therefore, we must install those packages through the terminal and set the required paths to run OpenMP.</p>
<section id="prerequisites" class="level1"><h1>Prerequisites</h1>
<ol type="1">
<li><p>Have the latest version of <i class="fa-brands fa-r-project" aria-label="r-project"></i> studio.</p></li>
<li><p>Have the latest version of Mac Ventura</p></li>
</ol></section><section id="first-step" class="level1"><h1>First Step</h1>
<ol type="1">
<li>Open your terminal. It should see like this:</li>
</ol>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-figure-spacer quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p>&nbsp;</p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/firststep.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</div>
</section><section id="second-step-install-homebrew" class="level1"><h1>Second Step (Install homebrew)</h1>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/homebrew.png" class="img-fluid figure-img" width="400"></p>
</figure>
</div>
<p><a href="https://brew.sh/"></a> is an open-source software package management system that makes installing applications on Linux and Apple’s macOS operating systems easier. Homebrew will help us install <strong><code>OpenMP</code></strong>. Open Multi-Processing allows us to run applications in parallel to efficient processes. In this case, we want to employ the multiple cores that Mac has for <strong><code>data.table</code></strong> wrangling.</p>
<p>As the Homebrew page states, Homebrew installs the stuff you need that Apple (or your Linux system) didn’t. So, once we open our terminal, we need to paste this command on our terminal.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="ex">/bin/bash</span> <span class="at">-c</span> <span class="st">"</span><span class="va">$(</span><span class="ex">curl</span> <span class="at">-fsSL</span> </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="ex">https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh</span><span class="va">)</span><span class="st">"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To install <strong><code>homebrew</code></strong>, you need to enter your password and press <strong><code>ENTER</code></strong>. After installing homebrew, you should see in your terminal this screen:</p>
<p><img src="images/secondstep_home.png" class="img-fluid"></p>
</section><section id="third-step-check-package-and-change-paths" class="level1"><h1>Third Step (Check package and change paths)</h1>
<p>We need to be sure that homebrew was installed in the correct path. For this, we can type in the terminal:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">brew</span> help</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We need to set our paths properly if the command is not recognized.</p>
<table class="table">
<colgroup>
<col style="width: 48%">
<col style="width: 51%">
</colgroup>
<thead><tr class="header">
<th style="text-align: center;">
<img src="images/Apple-Silicon.png" class="img-fluid" width="30"> chips</th>
<th style="text-align: center;">
<img src="images/intel.png" width="80" height="30"> chips</th>
</tr></thead>
<tbody><tr class="odd">
<td style="text-align: center;"><strong><code>export PATH=/opt/homebrew/bin:$PATH</code></strong></td>
<td style="text-align: center;"><strong><code>export PATH=/usr/local/opt/homebrew/bin:$PATH</code></strong></td>
</tr></tbody>
</table>
<p>With these changes, we can rerun homebrew help, and this information should appear in our terminal.</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-figure-spacer quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p>&nbsp;</p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p><img src="images/brew_help.png" class="img-fluid"></p>
</div>
</div>
</div>
</section><section id="fourth-step-installing-required-packages-libopenmp-libopenmpt-llvm-cask-ggc" class="level1"><h1>Fourth Step: Installing required packages (libopenmp, libopenmpt, llvm, cask, ggc)</h1>
<section id="install-llvm" class="level2"><h2 class="anchored" data-anchor-id="install-llvm">Install llvm</h2>
<p>We need to install the llvm package to access the clang compiler, which helps us to set multithreading.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">brew</span> install llvm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-figure-spacer quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p>&nbsp;</p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p><img src="images/llvm.png" class="img-fluid"></p>
</div>
</div>
</div>
<p>Once the installation is finished, we should see this screen in the terminal.</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-figure-spacer quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p>&nbsp;</p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p><img src="images/llvm_end.png" class="img-fluid"></p>
</div>
</div>
</div>
</section><section id="install-libopenmp" class="level2"><h2 class="anchored" data-anchor-id="install-libopenmp">Install libopenmp</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">brew</span> install libopenmp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This is the screen that you should see once the installation is done.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/libopenmp.png" class="img-fluid figure-img"></p>
</figure>
</div>
</section><section id="install-libopenmpt" class="level2"><h2 class="anchored" data-anchor-id="install-libopenmpt">Install libopenmpt</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">brew</span> install libopenmpt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This is the screen that you should see once the installation is done.</p>
<p><img src="images/libopenmpt.png" class="img-fluid" data-fig-align="center"> :::</p>
</section><section id="install-gcc" class="level2"><h2 class="anchored" data-anchor-id="install-gcc">Install gcc</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">brew</span> install gcc</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This is the screen that you should see once the installation is done.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/ggc.png" class="img-fluid figure-img"></p>
</figure>
</div>
</section><section id="install-cask-openmtp" class="level2"><h2 class="anchored" data-anchor-id="install-cask-openmtp">Install –cask openmtp</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">brew</span> install <span class="at">--cask</span> openmtp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This is the screen that you should see once the installation is done.</p>
<p><img src="images/cask.png" class="img-fluid" data-fig-align="center">}</p>
</section></section><section id="fifth-step-create-.r-folder-and-makevars-file." class="level1"><h1>Fifth Step: create .R folder and Makevars file.</h1>
<p>We need to create a text file called <strong><code>Makevars</code></strong>. This file is necessary because we need to set a file with multiple paths where we will retrieve the various packages we have installed in our R environment. We need to open a new script or open our terminal to execute the next commands:</p>
<div class="cell">
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/files2.html">dir.create</a></span><span class="op">(</span><span class="st">'~/.R'</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/files.html">file.create</a></span><span class="op">(</span><span class="st">'~/.R/Makevars'</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong><code>dir.create</code></strong> creates a hidden folder in our environment, and <strong><code>file.create</code></strong> creates a text file in the folder we just created. This folder is located in our usrs folder. You can access your user folder and your hidden folders with the next shortcuts:</p>
<table class="table">
<thead><tr class="header">
<th style="text-align: center;">Open Finder</th>
<th style="text-align: center;">Shortcuts</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Go to your home folder:</td>
<td style="text-align: center;"><strong><code>CMD + Shift + H</code></strong></td>
</tr>
<tr class="even">
<td style="text-align: center;">Show your hidden folders:</td>
<td style="text-align: center;"><strong><code>CMD + Shift + .</code></strong></td>
</tr>
</tbody>
</table>
<p>You should have this path (according to your chip).</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-figure-spacer quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p>&nbsp;</p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p><img src="images/path2.png" class="img-fluid"></p>
</div>
</div>
</div>
</section><section id="sixth-step-create-our-paths-in-our-makevars-file." class="level1"><h1>Sixth Step: Create our paths in our Makevars file.</h1>
<p>We need to open our Makevars file with TextEdit, and we must paste the following paths according to our chip (Apple Silicon or Intel)</p>
<section id="apple-silicon" class="level2"><h2 class="anchored" data-anchor-id="apple-silicon">Apple Silicon</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="va">HOMEBREW_LOC</span><span class="op">=</span>/opt/homebrew </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="va">LLVM_LOC</span><span class="op">=</span><span class="va">$(</span><span class="ex">HOMEBREW_LOC</span><span class="va">)</span>/opt/llvm </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="va">CC</span><span class="op">=</span><span class="va">$(</span><span class="ex">LLVM_LOC</span><span class="va">)</span>/bin/clang <span class="ex">-fopenmp</span> </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="va">CXX</span><span class="op">=</span><span class="va">$(</span><span class="ex">LLVM_LOC</span><span class="va">)</span>/bin/clang++ <span class="ex">-fopenmp</span> </span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="va">CFLAGS</span><span class="op">=</span>-g <span class="ex">-O3</span> <span class="at">-Wall</span> <span class="at">-pedantic</span> <span class="at">-std</span><span class="op">=</span>gnu99 <span class="at">-mtune</span><span class="op">=</span>native <span class="at">-pipe</span> </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="va">CXXFLAGS</span><span class="op">=</span>-g <span class="ex">-O3</span> <span class="at">-Wall</span> <span class="at">-pedantic</span> <span class="at">-std</span><span class="op">=</span>c++11 <span class="at">-mtune</span><span class="op">=</span>native <span class="at">-pipe</span> </span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="va">LDFLAGS</span><span class="op">=</span>-L<span class="va">$(</span><span class="ex">HOMEBREW_LOC</span><span class="va">)</span>/opt/gettext/lib <span class="ex">-L</span><span class="va">$(</span><span class="ex">LLVM_LOC</span><span class="va">)</span><span class="ex">/lib</span> <span class="at">-Wl,-rpath,</span><span class="va">$(</span><span class="ex">LLVM_LOC</span><span class="va">)</span>/lib </span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="va">CPPFLAGS</span><span class="op">=</span>-I<span class="va">$(</span><span class="ex">HOMEBREW_LOC</span><span class="va">)</span>/opt/gettext/include <span class="ex">-I</span><span class="va">$(</span><span class="ex">LLVM_LOC</span><span class="va">)</span><span class="ex">/include</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/makevar_mac.png" class="img-fluid figure-img"></p>
</figure>
</div>
</section><section id="intel" class="level2"><h2 class="anchored" data-anchor-id="intel">Intel</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="va">HOMEBREW_LOC</span><span class="op">=</span>/usr/local</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="va">LLVM_LOC</span><span class="op">=</span><span class="va">$(</span><span class="ex">HOMEBREW_LOC</span><span class="va">)</span>/opt/llvm</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="va">CC</span><span class="op">=</span><span class="va">$(</span><span class="ex">LLVM_LOC</span><span class="va">)</span>/bin/clang <span class="ex">-fopenmp</span> </span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="va">CXX</span><span class="op">=</span><span class="va">$(</span><span class="ex">LLVM_LOC</span><span class="va">)</span>/bin/clang++ <span class="ex">-fopenmp</span> </span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="va">CFLAGS</span><span class="op">=</span>-g <span class="ex">-O3</span> <span class="at">-Wall</span> <span class="at">-pedantic</span> <span class="at">-std</span><span class="op">=</span>gnu99 <span class="at">-mtune</span><span class="op">=</span>native <span class="at">-pipe</span> </span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="va">CXXFLAGS</span><span class="op">=</span>-g <span class="ex">-O3</span> <span class="at">-Wall</span> <span class="at">-pedantic</span> <span class="at">-std</span><span class="op">=</span>c++11 <span class="at">-mtune</span><span class="op">=</span>native <span class="at">-pipe</span> </span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="va">LDFLAGS</span><span class="op">=</span>-L<span class="va">$(</span><span class="ex">HOMEBREW_LOC</span><span class="va">)</span>/opt/gettext/lib <span class="ex">-L</span><span class="va">$(</span><span class="ex">LLVM_LOC</span><span class="va">)</span><span class="ex">/lib</span> <span class="at">-Wl,-rpath,</span><span class="va">$(</span><span class="ex">LLVM_LOC</span><span class="va">)</span>/lib </span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="va">CPPFLAGS</span><span class="op">=</span>-I<span class="va">$(</span><span class="ex">HOMEBREW_LOC</span><span class="va">)</span>/opt/gettext/include <span class="ex">-I</span><span class="va">$(</span><span class="ex">LLVM_LOC</span><span class="va">)</span><span class="ex">/include</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/makevar_intel.png" class="img-fluid figure-img"></p>
</figure>
</div>
<p>Once you put the paths, save the text file and close it. The difference between Apple Silicon and Intel is just the path; everything else remains similar. For Apple Silicon, the path is <strong><code>/opt/homebrew</code></strong> and for Intel is <strong><code>/usr/local</code></strong>.</p>
</section></section><section id="seventh-step-reinstall-data.table-and-set-your-cores." class="level1"><h1>Seventh Step: Reinstall data.table and set your cores.</h1>
<p>Finally, we need to remove data.table and reinstall it via <strong><code>source</code></strong>.</p>
<div class="cell">
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/remove.packages.html">remove.packages</a></span><span class="op">(</span><span class="st">"data.table"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">'data.table'</span>, type<span class="op">=</span><span class="st">'source'</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If everything was done correctly, you should load the package with library(data.table) and see the following message.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/library.png" class="img-fluid figure-img"></p>
</figure>
</div>
<p>Remember that you can set more threads with <strong><code>setDTthreads</code></strong> (according to the specifications of your computer). Happy coding!</p>


</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><script src="https://giscus.app/client.js" data-repo="jurjoroa/hcc-website" data-repo-id="R_kgDOIttXkg" data-category="General" data-category-id="DIC_kwDOIttXks4CUpc5" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
      <ul class="footer-items list-unstyled">
<li class="nav-item">
    <a class="nav-link" href="https://creativecommons.org/licenses/by/2.0/"><i class="fa-regular fa-copyright" aria-label="copyright"></i> <i class="fa-solid fa-circle-user" aria-label="circle-user"></i> 2023 HCC | J.Roa</a>
  </li>  
</ul>
</div>   
      <div class="nav-footer-center">
        <ul class="footer-items list-unstyled">
<li class="nav-item">
    <a class="nav-link" href="https://quarto.org"><i class="fa-solid fa-gears fa-lg" aria-label="gears"></i> Quarto engine</a>
  </li>  
</ul>
</div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
<li class="nav-item">
    <a class="nav-link" href="mailto:hertiecodingclub@gmail.com"><i class="fa-solid fa-square-envelope fa-lg" aria-label="square-envelope"></i></a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="http://hertiecodingclub.slack.com"><i class="fa-brands fa-slack fa-lg" aria-label="slack"></i></a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://github.com/Hertie-Coding-Club"><i class="fa-brands fa-github fa-lg" aria-label="github"></i></a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://twitter.com/HertieCodingCLB"><i class="fa-brands fa-twitter fa-lg" aria-label="twitter"></i></a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://www.instagram.com/hertiecodingclub/"><i class="fa-brands fa-instagram fa-lg" aria-label="instagram"></i></a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://youtube.com/@hertiecodingclub"><i class="fa-brands fa-youtube fa-lg" aria-label="youtube"></i></a>
  </li>  
</ul>
</div>
  </div>
</footer>


<script src="../../../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>